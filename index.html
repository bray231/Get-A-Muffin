<!DOCTYPE html>
<html>
  <script type="text/javascript">
    var num_muffins = 0;
    
    function getMuffin(){
      num_muffins = num_muffins + 1;
      var binary_muffins = countBits(num_muffins);
      var elem = document.createElement("img");
      elem.src = 'muffin.jpg';
      elem.setAttribute("height", "24");
      elem.setAttribute("width", "24");
      elem.setAttribute("alt", "Muffin!");
      document.getElementById("placehere").appendChild(elem);
      document.getElementById("muffin_counter").innerHTML = "Muffins: " + binary_muffins;
    }
    
    function countBits(num){
      var idx = Math.floor(Math.log2(num)); //Get the number of bits needed to represent your number
      var bit = 1;
      var count = 0;
        while (bit){
          bit = (num & (1<<idx))>>idx; //Check the bit value in the given position
          count += bit; //Add it to the count
          idx -= 1; //Check the next bit over
        }
      return count;
    }
  </script>
  <head>
    <link rel="stylesheet" type="text/css" href="interface.css">
    <title>Get A Muffin</title>
  </head>
  <body>
    <button onclick="getMuffin()" id="muffinButton">Click For A Muffin!</button>
    <span id="muffin_counter">Muffins: 0</span>
    <div id="placehere"></div>
  </body>
</html>
